name: Release # Workflow name displayed on GitHub 

on:
  push:
    branches: [ master ]
  workflow_dispatch:

jobs: 
   new-release: 
      runs-on: ubuntu-latest 
      steps: 
         - uses: actions/checkout@v3 # Checkout our working repository 
         - name: Conventional Changelog Action
           id: changelog 
           uses: TriPSs/conventional-changelog-action@v3 
           with: 
             github-token: ${{ secrets.github_token }}
             output-file: "false" 

         - name: Create Release
           id: create_release
           uses: actions/create-release@v1
           env:
              GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} # This token is provided by Actions, you do not need to create your own token
           with:
              tag_name: ${{ steps.changelog.outputs.tag }}
              release_name: ${{ steps.changelog.outputs.tag }} 
              body: |
                Changes in this Release
              draft: false
              prerelease: false
